<?php
namespace Kyrne\Shout\Api\Controllers; use Flarum\Api\Controller\AbstractShowController; use Flarum\Api\Serializer\BasicUserSerializer; use Psr\Http\Message\ServerRequestInterface; use Tobscure\JsonApi\Document; use Pusher\Pusher; class TypingPusherController extends AbstractShowController { public $serializer = BasicUserSerializer::class; public function data(ServerRequestInterface $spc1c877, Document $spb8026c) { $sp2b7469 = $spc1c877->getParsedBody(); if (app()->bound(Pusher::class)) { app(Pusher::class)->trigger('private-user' . $sp2b7469['userId'], 'typing', array('conversationId' => $sp2b7469['conversationId'])); } return true; } }